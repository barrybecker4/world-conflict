<script>
var appState = (function(my) {

    // before game configuration screen shown
    const NOT_STARTED = 'NOT_STARTED';
    // configuring game
    const SETUP_SCREEN = 'SETUP_SCREEN';
    // open games dialog
    const OPEN_GAMES_DIALOG = 'OPEN_GAMES_DIALOG';
    // done configuring, waiting for players to join so game can start
    const WAITING_FOR_PLAYERS_TO_JOIN = 'WAITING_FOR_PLAYERS_TO_JOIN';
    // in game, waiting for other player(s) to move
    const WAITING_FOR_PLAYERS_TO_MOVE = 'WAITING_FOR_PLAYERS_TO_MOVE';
    // game has started
    const IN_GAME = 'IN_GAME';

    let currentState = NOT_STARTED;

    my.getCurrentState = function() {
        return currentState;
    }

    my.isNotStarted = function() {
        return currentState === NOT_STARTED;
    }

    my.setInSetup = function() {
        currentState = SETUP_SCREEN;
    }

    my.isInSetup = function() {
        return currentState === SETUP_SCREEN;
    }

    my.setInOpenGamesDialog = function() {
        currentState = OPEN_GAMES_DIALOG;
    }

    my.isInOpenGamesDialog = function() {
        return currentState === OPEN_GAMES_DIALOG;
    }

    my.setWaitingForPlayersToJoin = function() {
        currentState = WAITING_FOR_PLAYERS_TO_JOIN;
    }

    my.isWaitingForPlayersToJoin = function() {
        return currentState === WAITING_FOR_PLAYERS_TO_JOIN;
    }

    my.setWaitingForPlayersToMove = function() {
        currentState = WAITING_FOR_PLAYERS_TO_MOVE;
    }

    my.isWaitingForPlayersToMove = function() {
        return currentState === WAITING_FOR_PLAYERS_TO_MOVE;
    }

    my.setInGame = function() {
        currentState = IN_GAME;
    }

    my.isInGame = function() {
        return currentState === IN_GAME;
    }

    my.isInGameOrWaiting = function() {
         return currentState === IN_GAME || currentState === WAITING_FOR_PLAYERS_TO_MOVE;
    }

    return my;
}(appState || {}));
</script>
